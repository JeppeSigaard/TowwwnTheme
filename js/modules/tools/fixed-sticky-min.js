!function(t,$){function e(t,e,s){var i=t+":",o=document.createElement("test"),n=o.style;return s?n.cssText=i+e:n.cssText=i+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+i)+e+";",n[t].indexOf(e)!==-1}function s(t){return parseInt(t,10)||0}var i=0,o={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:e("position","sticky"),fixed:e("position","fixed",!0)},getScrollTop:function(){var e="pageYOffset",s="scrollTop";return t?e in t?t[e]:t.document.documentElement[s]:t.document.body[s]},bypass:function(){return o.tests.sticky&&!o.optOut||!o.tests.fixed||t.FixedFixed&&!$(t.document.documentElement).hasClass("fixed-supported")},update:function(t){function e(){var t=d+x;return a<t&&t+c<=m+v}function i(){return a+(c||0)>d+u-p&&d+u-p>=m+(c||0)}if(t.offsetWidth){var n=$(t),c=n.outerHeight(),a=n.data(o.keys.offset),d=o.getScrollTop(),f=n.is("."+o.classes.active),r=function(t){n[t?"addClass":"removeClass"](o.classes.active)[t?"removeClass":"addClass"](o.classes.inactive)},u=$(window).height(),l=n.data(o.keys.position),y,x,p,k=n.parent(),m=k.offset().top,v=k.outerHeight();void 0===a?(a=n.offset().top,n.data(o.keys.offset,a),n.after($("<div>").addClass(o.classes.clone).height(c))):n.next("."+o.classes.clone).height(c),l||(y="auto"!==n.css("top")||"auto"!==n.css("bottom"),y||n.css("position","fixed"),l={top:"auto"!==n.css("top"),bottom:"auto"!==n.css("bottom")},y||n.css("position",""),n.data(o.keys.position,l)),x=s(n.css("top")),p=s(n.css("bottom")),l.top&&e()||l.bottom&&i()?f||r(!0):f&&r(!1)}},destroy:function(e){var s=$(e);return o.bypass()?s:s.each(function(){var e=$(this),s=e.data(o.keys.id);$(t).unbind(".fixedsticky"+s),e.removeData([o.keys.offset,o.keys.position,o.keys.id]).removeClass(o.classes.active).removeClass(o.classes.inactive).next("."+o.classes.clone).remove()})},init:function(e){var s=$(e);return o.bypass()?s:s.each(function(){var e=this,n=i++;$(this).data(o.keys.id,n),$(t).bind("scroll.fixedsticky"+n,function(){o.update(e)}).trigger("scroll.fixedsticky"+n),$(t).bind("resize.fixedsticky"+n,function(){s.is("."+o.classes.active)&&o.update(e)})})}};t.FixedSticky=o,$.fn.fixedsticky=function(t){if("function"==typeof o[t])return o[t].call(o,this);if("object"!=typeof t&&t)throw new Error("Method `"+t+"` does not exist on jQuery.fixedsticky");return o.init.call(o,this)},t.FixedFixed||$(t.document.documentElement).addClass(o.classes.withoutFixedFixed)}(window,jQuery);
